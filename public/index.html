<!DOCTYPE html>
<head>
  <style>
html,
body {

  padding: 0;
}

body {
  font: 14px "Helvetica Neue", Helvetica, Arial, sans-serif;
  line-height: 1.4em;
  background: #eeeeee;
  color: #333333;
  width: 520px;
  
  -webkit-font-smoothing: antialiased;
}

input[type="text"] {
  width: 520px;
  font-size: 15px;
  font-family: inherit;
  line-height: 1.4em;
  outline: none;
  border: 1px solid #999999;
  -webkit-box-shadow: rgba(0, 0, 0, 0.2) 0 1px 2px 0 inset;
  -moz-box-shadow: rgba(0, 0, 0, 0.2) 0 1px 2px 0 inset;
  -ms-box-shadow: rgba(0, 0, 0, 0.2) 0 1px 2px 0 inset;
  -o-box-shadow: rgba(0, 0, 0, 0.2) 0 1px 2px 0 inset;
  box-shadow: rgba(0, 0, 0, 0.2) 0 1px 2px 0 inset;
}

form {
  color: blue;
  text-align: right;
}

  </style>
  <script src="./js/jquery-2.0.3.js"></script>
  <script src="./js/underscore-1.5.2.js"></script>
  <script src="./js/backbone-1.1.0.js"></script>
  <script src="./models/Animal.js"></script>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>HTML</title>
  <meta name="author" content="Kevin" />
  <!-- Date: 2013-11-19 -->
</head>
<body>
  <div id="animals">
      <h3>THE ANIMAL CREATOR</h3>
      <form>
      <input name="type" type="text" placeholder="What kind of animal is this?"><br/>
      <input name="name" type="text" placeholder="What name should we give it?"><br/>
      <input name="legs" type="text" placeholder="How many legs does it have?"><br/>
      <input name="voice" type="text" placeholder="What noise does it make?"><br/>
      <label for="rabid">Is it rabid? </label>
      <input name="rabid" type="checkbox"></span><br/>
      <input name="lives" type="text" placeholder="How many lives does it have?"><br/>
      <input type="submit">
      
      </form>


    <section id="main">
      <input id="toggle-all" type="checkbox">
      <label for="toggle-all">Mark all as complete</label>
      <ul id="animal-list"></ul>
    </section>

</body>
<script>
var id = 0;

$.fn.serializeObject = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            o[this.name].push(this.value || '');
        } else {
            o[this.name] = this.value || '';
        }
    });
    return o;
};

$('form').on('submit', function(e){
  e.preventDefault();
  var data = $(e.currentTarget).serializeObject();
  data.id = id;
  id ++;
  data.rabid = data.rabid ? true : false;
  //create a new animal
  var x = new Animal();
  x.attributes = data;
  x.set('_id', data.id);
  x.save();
  $('input[type="text"]').val('');
  $('input[type="checkbox"]').attr('checked', false);
});

</script>
</html>

